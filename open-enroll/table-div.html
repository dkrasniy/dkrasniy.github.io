<!doctype html>
<html lang="en">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="css/bootstrap.min.css">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="css/custom.css">


    <title>Open Enrollment</title>
</head>
<body>

<div class="container-fluid header">
    <div class="container">

        <h1 class="myCalPERS-logo"><strong>my</strong>|CalPERS</h1>
        <h2>Compare Medical Plan Options</h2>
    </div>

    <div class="critea-filter-options-details">
        <div class="container">
            <div class="row">
                <div class="col-12 col-md-7"><p class="search-criteria-text"><span class="totalPlansCount"></span> Plans
                    Found - Results Based On:</p>
                    <b>ZIP Code:</b> 95843
                    <b>Plan Year:</b> 2018
                    <b>Member Type:</b> State or CSU
                    <b>Coverage Type:</b> You only (Basic)
                </div>
                <div class="col-12 col-md-5 back-save-compare">
                <span>
                    <button type="button" class="btn btn-link">Back to Search Results</button>
                <button type="button" class="btn btn-success">Save Comparison</button>

                </span>
                </div>
            </div>
        </div>
    </div>

</div>

<div class="container-fluid">

    <div class="container">

        <div role="table" aria-label="Compare Plans Table" aria-describedby="plans_table_desc">
            <div id="plans_table_desc" class="sr-only">Table Desc</div>

            <div class="row compare-container table-header" role="rowgroup">
                <div class="col-2 single-row-label"></div>
                <div role="columnheader" data-planID="1" class="col plan-name plan-col _1 data-point">
                    <div class="row">
                        <div class="col-12 col-md-4">
                            <img class="plan-logo" src="assets/kaiser.png"/>
                        </div>
                        <div class="col-12 col-md-6">
                            <h4>Kaiser Permanente</h4>
                            <p>$524/month<br><span class="monthly-desc">Full Monthly Premium <a class="help-circle"
                                                                                                href="#"><i
                                    data-feather="help-circle" width="16" height="16"
                                    class="menu-dropdown-icons"></i></a></span></p>
                        </div>
                    </div>
                </div>
                <div role="columnheader" data-planID="2" class="col plan-name plan-col _2 data-point">
                    <div class="row">
                        <div class="col-12 col-md-4">
                            <img class="plan-logo" src="assets/blue.png"/>
                        </div>
                        <div class="col-12 col-md-6">
                            <h4>Blue Shield Access+</h4>
                            <p>$596/month<br><span class="monthly-desc">Full Monthly Premium <a class="help-circle"
                                                                                                href="#"><i
                                    data-feather="help-circle" width="16" height="16"
                                    class="menu-dropdown-icons"></i></a></span></p>
                        </div>
                    </div>
                </div>
                <div role="columnheader" data-planID="3" class="col plan-name plan-col _3 data-point">
                    <div class="row">
                        <div class="col-12 col-md-4">
                            <img class="plan-logo" src="assets/healthnet.png"/>
                        </div>
                        <div class="col-12 col-md-6">
                            <h4>Health Net SmartCare</h4>
                            <p>$781/month<br><span class="monthly-desc">Full Monthly Premium <a class="help-circle"
                                                                                                href="#"><i
                                    data-feather="help-circle" width="16" height="16"
                                    class="menu-dropdown-icons"></i></a></span></p>
                        </div>
                    </div>
                </div>
                <div role="columnheader" data-planID="4" class="col plan-name plan-col _4 data-point">
                    <div class="row">
                        <div class="col-12 col-md-4">
                            <img class="plan-logo" src="assets/kaiser.png"/>
                        </div>
                        <div class="col-12 col-md-6">
                            <h4>Kaiser Permanente</h4>
                            <p>$781/month<br><span class="monthly-desc">Full Monthly Premium <a class="help-circle"
                                                                                                href="#"><i
                                    data-feather="help-circle" width="16" height="16"
                                    class="menu-dropdown-icons"></i></a></span></p>
                        </div>
                    </div>
                </div>
                <div class="plans-navigation col-12">
                    <p id="previous">B_AS09MU</p> Showing 1-3 of 10<p id="next">N_A9SYD</p>
                </div>

            </div>


            <div role="rowgroup">
            <span class="section">
            <div class="row">
            <div class="section-title">Calendar Year Deductible</div>
            </div>
            <div role="row" class="row compare-container">

                <div role="rowheader" class="col-2 single-row-label">Individual</div>
                <div role="cell" class="col plan-col _1 data-point">$0</div>
                <div role="cell" class="col plan-col _2 data-point">$0</div>
                <div role="cell" class="col plan-col _3 data-point">$10</div>
                <div role="cell" class="col plan-col _4 data-point">$25</div>
            </div>
            <div role="row" class="row compare-container">
                <div role="rowheader" class="col-2 single-row-label">Family</div>
                <div role="cell" class="col plan-col _1 data-point">$0</div>
                <div role="cell" class="col plan-col _2 data-point">$0</div>
                <div role="cell" class="col plan-col _3 data-point">$10</div>
                <div role="cell" class="col plan-col _4 data-point">$25</div>
            </div>
        </span>
                <span class="section">
            <div class="row">
                <div class="section-title">Maximum Calendar Year Co-pay or Co-insurance (excluding Pharmacy)</div>
            </div>
            <div role="row" class="row compare-container">

                <div role="rowheader" class="col-2 single-row-label">Individual</div>
                <div role="cell" class="col plan-col _1 data-point">$1,500<br>(co-pay)</div>
                <div role="cell" class="col plan-col _2 data-point">$1,500<br>(co-pay)</div>
                <div role="cell" class="col plan-col _3 data-point">$1,500<br>(co-pay)</div>
                <div role="cell" class="col plan-col _4 data-point">$1,500<br>(co-pay)</div>
            </div>
            <div role="row" class="row compare-container">
                <div role="rowheader" class="col-2 single-row-label">Family</div>
                <div role="cell" class="col plan-col _1 data-point">$3,500<br>(co-pay)</div>
                <div role="cell" class="col plan-col _2 data-point">$3,500<br>(co-pay)</div>
                <div role="cell" class="col plan-col _3 data-point">$3,500<br>(co-pay)</div>
                <div role="cell" class="col plan-col _4 data-point">$3,500<br>(co-pay)</div>
            </div>
        </span>
                <span class="section">
            <div class="row">
                <div class="section-title">Hospital (including Mental Health and Substance Abuse)</div>
            </div>
            <div role="row" class="row compare-container">

                <div role="rowheader" class="col-2 single-row-label">Deductible (per admission)</div>
                <div role="cell" class="col plan-col _1 data-point">$0</div>
                <div role="cell" class="col plan-col _2 data-point">$0</div>
                <div role="cell" class="col plan-col _3 data-point">$0</div>
                <div role="cell" class="col plan-col _4 data-point">$0</div>
            </div>
            <div role="row" class="row compare-container">
                <div role="rowheader" class="col-2 single-row-label">Inpatient</div>
                <div role="cell" class="col plan-col _1 data-point">$0</div>
                <div role="cell" class="col plan-col _2 data-point">$0</div>
                <div role="cell" class="col plan-col _3 data-point">$0</div>
                <div role="cell" class="col plan-col _4 data-point">$0</div>
            </div>
            <div role="row" class="row compare-container">
                    <div role="rowheader" class="col-2 single-row-label">Outpatient Facility/ Surgery Services</div>
                    <div role="cell" class="col plan-col _1 data-point">$0</div>
                    <div role="cell" class="col plan-col _2 data-point">$0</div>
                    <div role="cell" class="col plan-col _3 data-point">$0</div>
                    <div role="cell" class="col plan-col _4 data-point">$0</div>
                </div>
        </span>

                <span class="section">
                <div class="row">
                    <div class="section-title">Emergency Services</div>
                </div>
                <div role="row" class="row compare-container">
    
                    <div role="rowheader" class="col-2 single-row-label">Emergency Room Deductible</div>
                    <div role="cell" class="col plan-col _1 data-point">$0</div>
                    <div role="cell" class="col plan-col _2 data-point">$0</div>
                    <div role="cell" class="col plan-col _3 data-point">$0</div>
                    <div role="cell" class="col plan-col _4 data-point">$0</div>
                </div>
                <div role="row" class="row compare-container">
                    <div role="rowheader" class="col-2 single-row-label">Emergency (co-pay waived if admitted as an inpatient or for observation as an outpatient)</div>
                    <div role="cell" class="col plan-col _1 data-point">$50</div>
                    <div role="cell" class="col plan-col _2 data-point">$50</div>
                    <div role="cell" class="col plan-col _3 data-point">$50</div>
                    <div role="cell" class="col plan-col _4 data-point">$50</div>
                </div>
                <div role="row" class="row compare-container">
                        <div role="rowheader" class="col-2 single-row-label">Non-Emergency (co-pay waived if admitted as an inpatient or for observation as an outpatient)</div>
                        <div role="cell" class="col plan-col _1 data-point">$0</div>
                        <div role="cell" class="col plan-col _2 data-point">$0</div>
                        <div role="cell" class="col plan-col _3 data-point">$0</div>
                        <div role="cell" class="col plan-col _4 data-point">$0</div>
                    </div>
            </span>

                <span class="section">
                    <div class="row">
                        <div class="section-title"> Physician Services (including Mental Health and Substance Abuse)                            </div>
                    </div>
                    <div role="row" class="row compare-container">
        
                        <div role="rowheader" class="col-2 single-row-label">Office Visits (co-pay for each service provided)</div>
                        <div role="cell" class="col plan-col _1 data-point">$10</div>
                        <div role="cell" class="col plan-col _2 data-point">$15</div>
                        <div role="cell" class="col plan-col _3 data-point">$15</div>
                        <div role="cell" class="col plan-col _4 data-point">$15</div>
                    </div>
                    <div role="row" class="row compare-container">
                        <div role="rowheader" class="col-2 single-row-label">Inpatient Visits</div>
                        <div role="cell" class="col plan-col _1 data-point">$50</div>
                        <div role="cell" class="col plan-col _2 data-point">$50</div>
                        <div role="cell" class="col plan-col _3 data-point">$50</div>
                        <div role="cell" class="col plan-col _4 data-point">$50</div>
                    </div>

                </span>


                <span style="display: none;" class="section">
                        <div class="row">
                            <div class="section-title">Diagnostic X-Ray/Lab</div>
                        </div>
                        <div role="row" class="row compare-container">
            
                            <div role="rowheader" class="col-2 single-row-label">Diagnostic X-Ray/Lab</div>
                            <div role="cell" class="col data-point">$10</div>
                            <div role="cell" class="col data-point">$15</div>
                            <div role="cell" class="col data-point">$15</div>
                        </div>
                        
                    </span>


                <span style="display: none;" class="section">
                            <div class="row">
                                <div class="section-title">Prescription Drugs</div>
                            </div>
                            <div role="row" class="row compare-container">
                
                                <div role="rowheader" class="col-2 single-row-label">Deductible</div>
                                <div role="cell" class="col data-point">$10</div>
                                <div role="cell" class="col data-point">$15</div>
                                <div role="cell" class="col data-point">$15</div>
                            </div>
                            <div role="row" class="row compare-container">
                                <div role="rowheader" class="col-2 single-row-label">Retail Pharmacy (not to exceed 30 day supply)</div>
                                <div role="cell" class="col data-point"><ul><li>Generic: $5</li><li>Brand Formulary:: $25</li><li>Non-Formulary:: $50</li></ul></div>
                                <div role="cell" class="col data-point"><ul><li>Generic: $5</li><li>Brand Formulary:: $25</li><li>Non-Formulary:: $50</li></ul></div>
                                <div role="cell" class="col data-point"><ul><li>Generic: $5</li><li>Brand Formulary:: $25</li><li>Non-Formulary:: $50</li></ul></div>
                              
                            </div>
                            <div role="row" class="row compare-container">
                                    <div role="rowheader" class="col-2 single-row-label">Retail Pharmacy Long-Term Prescription Medications filled after 2nd fill (i.e. 90 day supply)</div>
                                    <div role="cell" class="col data-point"><ul><li>Generic: $5</li><li>Brand Formulary:: $25</li><li>Non-Formulary:: $50</li></ul></div>
                                    <div role="cell" class="col data-point"><ul><li>Generic: $5</li><li>Brand Formulary:: $25</li><li>Non-Formulary:: $50</li></ul></div>
                                    <div role="cell" class="col data-point"><ul><li>Generic: $5</li><li>Brand Formulary:: $25</li><li>Non-Formulary:: $50</li></ul></div>
                                </div>
                            <div role="row" class="row compare-container">
                                    <div role="rowheader" class="col-2 single-row-label">Retail Pharmacy Maintenance Medications filled after 2nd fill (i.e. a medication taken longer than 60 days) (not to exceed 30 day supply)</div>
                                    <div role="cell" class="col data-point"><ul><li>Generic: $5</li><li>Brand Formulary:: $25</li><li>Non-Formulary:: $50</li></ul></div>
                                <div role="cell" class="col data-point"><ul><li>Generic: $5</li><li>Brand Formulary:: $25</li><li>Non-Formulary:: $50</li></ul></div>
                                <div role="cell" class="col data-point"><ul><li>Generic: $5</li><li>Brand Formulary:: $25</li><li>Non-Formulary:: $50</li></ul></div>
                                </div>
                                <div role="row" class="row compare-container">
                                        <div role="rowheader" class="col-2 single-row-label">Mail Order Pharmacy Program (not to exceed 90 day supply for maintenance drugs)</div>
                                        <div role="cell" class="col data-point"><ul><li>Generic: $5</li><li>Brand Formulary:: $25</li><li>Non-Formulary:: $50</li></ul></div>
                                        <div role="cell" class="col data-point"><ul><li>Generic: $5</li><li>Brand Formulary:: $25</li><li>Non-Formulary:: $50</li></ul></div>
                                        <div role="cell" class="col data-point"><ul><li>Generic: $5</li><li>Brand Formulary:: $25</li><li>Non-Formulary:: $50</li></ul></div>
                                    </div>
                                    <div role="row" class="row compare-container">
                                            <div role="rowheader" class="col-2 single-row-label">Mail order maximum co-payment per person per calendar year</div>
                                            <div role="cell" class="col data-point">$1,000</div>
                                            <div role="cell" class="col data-point">$1,000</div>
                                            <div role="cell" class="col data-point">$1,000</div>
                                        </div>
                        </span>

            </div>
        </div>
    </div>
</div>


<!-- Optional JavaScript -->
<!-- jQuery first, then Popper.js, then Bootstrap JS -->
<script src="js/jquery-3.2.1.slim.min.js"></script>
<script src="js/popper.min.js"></script>
<script src="js/bootstrap.min.js"></script>

<!--Feather icons-->
<script src="js/feather.min.js"></script>

<script type="text/javascript">
    feather.replace();

    var distance = $('.table-header').offset().top,
            $window = $(window);

    $window.scroll(function () {
        if ($window.scrollTop() >= distance) {
            $('.table-header').addClass('fixed');
        }
        if ($window.scrollTop() < distance) {
            $('.table-header').removeClass('fixed');
        }
    });

    var totalNumberOfPlans = $('.plan-name').filter(".plan-name").length;

    console.log("Total Plans: " + totalNumberOfPlans);


    var plans = {
        allPlanID: []
        , activePlans: []
    }

    $('.plan-name').each(function () {
        plans.allPlanID.push($(this).attr("data-planid"));
        plans.activePlans = plans.allPlanID.slice(0, 3);
    });

    plans.activePlans.map(function (val) {
        $('*[data-planid=' + val + ']').addClass('current');
        $('*[data-planid=' + val + ']').removeClass('hidden');
        $('._' + val).addClass('current');
        $('._' + val).removeClass('hidden');
    });

    // get total count of plans
    $('.totalPlansCount').text(totalNumberOfPlans);

    //add class current to first 3 plans
    $('.plan-name').slice(0, 3).addClass('current');
    $('.plan-name').slice(0, 3).removeClass('hidden');

    $('#next').on('click', function () {
        movePlans("next");
    });

    $('#previous').on('click', function () {
        movePlans("previous");
    });


    function updatePlans() {

    }


    function movePlans(direction) {
        var currentFirstActive = $('.plan-name').filter(".current:first").attr("data-planID");
        var currentLastActive = $('.plan-name').filter(".current:last").attr("data-planID");

        //to be allowed to DOM
        var indexOfLastActive = plans.allPlanID.indexOf(currentLastActive);
        if (direction == "next") {
            indexOfLastActive++;
        }
        var nextDataID = plans.allPlanID[indexOfLastActive];

        //to be hidden from DOM
        var indexOfFirstActive = plans.allPlanID.indexOf(currentFirstActive);
        if (direction == "previous") {
            indexOfFirstActive--;
        }
        var firstDataID = plans.allPlanID[indexOfFirstActive];

        if (direction == "next") {
            //add class current to next available item
            $('._' + nextDataID + ',*[data-planid=' + nextDataID + ']').addClass('current');
            $('._' + nextDataID + ',*[data-planid=' + nextDataID + ']').removeClass('hidden');

            //remove first item
            $('._' + firstDataID + ',*[data-planid=' + firstDataID + ']').addClass('hidden');
            $('._' + firstDataID + ',*[data-planid=' + firstDataID + ']').removeClass('current');

        }
        if (direction == "previous") {
            $('._' + nextDataID + ',*[data-planid=' + nextDataID + ']').removeClass('current');
            $('._' + nextDataID + ',*[data-planid=' + nextDataID + ']').addClass('hidden');

            $('._' + firstDataID + ',*[data-planid=' + firstDataID + ']').removeClass('hidden');
            $('._' + firstDataID + ',*[data-planid=' + firstDataID + ']').addClass('current');
        }
    }


    window.addEventListener('keydown', function (e) {
        // go to the right
        if (e.keyCode == 39) {
            movePlans("next");
        }
        // go to the left
        if (e.keyCode == 37) {
            movePlans("previous");
        }
    });


    document.addEventListener('swiped-left', function(e) {
        movePlans("next");
    });
    document.addEventListener('swiped-right', function(e) {
        movePlans("previous");
    });
    document.addEventListener('swiped-up', function(e) {
       alert("You swiped up!!!");
    });
</script>
</body>
</html>